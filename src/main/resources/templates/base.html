<!DOCTYPE html>
<html class="light" lang="en" xmlns:th="http://www.thymeleaf.org" th:fragment="parent(content,title,script)">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" class="rounded-t-full"
          data-th-href="@{'https://res.cloudinary.com/your-cloud/image/upload/v1/logo.png'}">
    <title data-th-replace="${title}">Political Accountability Platform</title>
    <link href="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>
    <link rel="stylesheet" data-th-href="@{'/css/output.css'}" />
</head>

<body class="dark:bg-slate-950 dark:text-white">

<!-- Common header -->
<!-- if user is logged in then  -->
<div sec:authorize="isAuthenticated()" class="sm:pl-64 p-4 h-full w-full ">
<!--    <p style="color: red; font-weight: bold;">DEBUG: AUTHENTICATED SECTION VISIBLE</p>-->
<div data-th-replace="~{user/user_sidebar::user_sidebar}"></div>
<div class="box-border pt-[78px]">
    <section data-th-replace="${content}"></section>
</div>
<div data-th-replace="~{user/user_navbar::user_navbar}"></div>
</div>

<!-- if user is not logged in navbar -->
<div sec:authorize="isAnonymous()">
    <div data-th-replace="~{navbar::navbar}"></div>
    <div class="box-border pt-[80px] p-4 w-full">
        <section data-th-replace="${content}"></section>
    </div>
</div>

<div sec:authorize="isAuthenticated()">
    <footer class="m-0 w-auto p-5 mb-0  sm:ml-64 dark:bg-blue-900 bg-blue-800">
        <div class="p-2">
            <div>
                <div class="flex items-center flex-col justify-center rounded">
                    <div class="">
                        <h1>© 2025 DemocraNet™. All Rights Reserved.</h1>
                    </div>
                    <div class="">
                        <h2>Connecting Citizens with Representatives | Made in India</h2>
                    </div>
                </div>
            </div>
        </div>
    </footer>
</div>
<div sec:authorize="isAnonymous()">
    <footer class="m-0 p-5 mb-0 bottom-0 dark:bg-blue-900 bg-blue-800">
        <div class="">
            <div class="p-2">
                <div>
                    <div class="flex items-center flex-col justify-center rounded">
                        <div class="">
                            <h1>© 2025 DemocraNet™. All Rights Reserved.</h1>
                        </div>
                        <div class="">
                            <h2>Connecting Citizens with Representatives | Made in India</h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
</div>


<script th:href="@{node_modules\flowbite\dist\flowbite.min.js}"></script>
<script src="https://kit.fontawesome.com/c2677cc3b5.js" crossorigin="anonymous"></script>
<script data-th-src="@{/JS/script.js}"></script>
<th:block data-th-replace="${script}"></th:block>
</body>

</html>